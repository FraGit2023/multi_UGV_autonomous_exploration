# ü§ñ Multi-TurtleBot3 Autonomous Exploration with ROS 2 and Gazebo

## üìÇ Project Structure

```bash
.
‚îú‚îÄ‚îÄ docker_ws/       # Docker workspace for building the development container
‚îú‚îÄ‚îÄ ros_ws/          # Main ROS 2 workspace containing all custom and third-party packages
‚îú‚îÄ‚îÄ chown_me.sh      # Script to fix ownership of files created as root inside the container
‚îú‚îÄ‚îÄ run.sh           # Script to run the Docker container with correct volumes and permissions
‚îî‚îÄ‚îÄ exec.sh          # Script to open a shell into a running container
```
### **`ros_ws/src`** contains:

#### **`turtlebot3_gazebo`** 
- Forked and adapted from [ROBOTIS-GIT/turtlebot3_simulations](https://github.com/ROBOTIS-GIT/turtlebot3_simulations)
- Includes robot models and launch files to spawn TurtleBot3 in a Gazebo simulation and establish communication with ROS.

Modifications:
- in the `/launch` folder, a new file `spawn_turtlebot3_robot2.launch.py` has been created, based on the orginal file `spawn_turtlebot3.launch.py` included in the same folder. The new file allows to spawn the correct model of the robot and the correct bridge file;
- in the `/models/turtlebot3_burger` folder, a new file `model_robot2.sdf` has been created, based on the file `model.sdf`. Both files were generated starting from the original file `model.sdf` contained in the folder  `/models/turtlebot3_burger` in [ROBOTIS-GIT/turtlebot3_simulations](https://github.com/ROBOTIS-GIT/turtlebot3_simulations), modified for the correct management of the namespace in both gazebo and ROS2;
- in the `\params` folder, the files `turtlebot3_burger_bridge_robot1.yaml` and `turtlebot3_burger_bridge_robot2.yaml` were generated. These allow the correct management of the topic bridge, for both robots, from gazebo to ROS2 and vice versa;

#### **`turtlebot3_gazebo`**
Main custom package developed for this project.
```bash
turtlebot3_autonomous_exploration/
‚îú‚îÄ‚îÄ config/                                     # Configuration files for robot_localization, nav2, slam_toolbox for both robots
‚îÇ   ‚îú‚îÄ‚îÄ ekf_robot1.yaml
‚îÇ   ‚îú‚îÄ‚îÄ ekf_robot2.yaml  
‚îÇ   ‚îú‚îÄ‚îÄ nav2_robot1.yaml
‚îÇ   ‚îú‚îÄ‚îÄ nav2_robot2.yaml
‚îÇ   ‚îî‚îÄ‚îÄ slam_robot1.yaml
‚îÇ   ‚îî‚îÄ‚îÄ slam_robot2.yaml
‚îÇ   ‚îî‚îÄ‚îÄ robot_initial_positions.yaml           # Configuraton file needed for the map merge
‚îú‚îÄ‚îÄ launch/                 
‚îÇ   ‚îî‚îÄ‚îÄ multi_r1r2.launch.py                   # Main launch file for the Multi-robot autonomous exploration
‚îÇ   ‚îî‚îÄ‚îÄ navigation_robot1_launch.py            # modified nav2 file, based on the ROS2 installation file, for the robot1  
‚îÇ   ‚îî‚îÄ‚îÄ navigation_robot2_launch.py            # modified nav2 file, based on the ROS2 installation file, for the robot1
‚îú‚îÄ‚îÄ rviz/                  
‚îÇ   ‚îî‚îÄ‚îÄ global_config.rviz                     # RViz2 configuration file for the global simulation.
‚îú‚îÄ‚îÄ resource/                                  # Auto-generated by ROS 2; used for resource indexing
‚îú‚îÄ‚îÄ test/                                      # Default folder for test files (currently unused)
‚îú‚îÄ‚îÄ turtlebot3_autonomous_exploration/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                            # Marks the folder as a Python package
‚îÇ   ‚îú‚îÄ‚îÄ global_frame_broad.py                  # Generating global map frame
‚îÇ   ‚îú‚îÄ‚îÄ global_frontier_detector_node.py       # Frontier detection node working on the merge map
‚îÇ   ‚îú‚îÄ‚îÄ global_map_merger_node.py              # Merge robots' maps node
‚îÇ   ‚îú‚îÄ‚îÄ greedy_task_allocator_node.py          # Frontier goal assignment node   
‚îú‚îÄ‚îÄ package.xml                                # Package metadata and dependencies
‚îú‚îÄ‚îÄ setup.cfg                                  # Makes package discoverable by ros2 run
‚îî‚îÄ‚îÄ setup.py                                   # Installation script
```

---
# üöÄ How to Run the Simulation

## 1. Build the Docker Image
```bash
cd docker_ws
chmod +x build.sh
./build.sh
```

> Ensure scripts are executable:
```bash
cd ..
chmod +x run.sh exec.sh chown_me.sh
```
## 2. Run the Docker Container
```bash
./run.sh
```

## 3. Inside the Container
Run the following commands:
```
source /opt/ros/jazzy/setup.bash
export TURTLEBOT3_MODEL=burger
cd /root/ros_workspace
colcon build
source install/setup.bash
ros2 launch turtlebot3_autonomous_exploration multi_r1r2.launch.py
```

RViz2 and Gazebo should start and show the simulation in real time.

---
# üåçüìç Switching Simulation Environments and Initial Positions
To change the simulated world: 

1. ciao
2. ciao






